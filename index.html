
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>電気羊の執務室</title>
  <meta name="author" content="satrex">

  
  <meta name="description" content="Lazy high chartsを使ってみたrailsでグラフを表示させたくて、Lazy high chartsを使ってみました。やった事を書いておきます。なんでLazy high chartsなの？Lazy high chartsを選んだ理由は、以下の通りです。『Web グラフ』で検索したら、 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://satrex.github.com">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="電気羊の執務室" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="/stylesheets/e-sheep.css" media="screen, projection" rel="stylesheet" type="text/css">
<!--Google Analitics Code-->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-31451390-1']);
  _gaq.push(['_setDomainName', 'satrex.jp']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>



  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-31451390-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
<div class="title_img">
    <a href="/"><img src="/images/e-sheep_logo003.png" alt="電気羊の執務室" /></a>
 <!--   <img src="/images/sheep3.png" alt="ひつじマーク" />
--></div>
<!--  <h1><a href="/">電気羊の執務室</a></h1> -->
  
    <h2>魔法を作る仕事をしています。</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:satrex.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/03/22/lazy_high_charts/">Lazy_high_chartsを使ってみた</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-03-22T07:28:00+09:00" pubdate data-updated="true">2013-03-22 07:28</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Lazy high chartsを使ってみた</h3>

<p>railsでグラフを表示させたくて、
Lazy high chartsを使ってみました。
やった事を書いておきます。</p>

<h3>なんでLazy high chartsなの？</h3>

<p>Lazy high chartsを選んだ理由は、以下の通りです。</p>

<ol>
<li>『Web グラフ』で検索したら、high chartsの評判がよかった<br/>
 →<a href="http://d.hatena.ne.jp/end0tknr/20111218/1324206587">webアプリ(perlやjavascript)でグラフ表示なら、Highcharts で決まりかも</a></li>
<li>『ruby high charts』で検索したら、Lazy high chartsの記事を見つけた<br/>
 →<a href="http://tnakamura.hatenablog.com/entry/20120528/rails_lazy_high_chart">Rails で Lazy high charts を使ってチャートを実装してみた</a></li>
</ol>


<p>というわけで、Lazy high chartsを使ってみます。</p>

<h3>まずはインストール</h3>

<p><a href="http://tnakamura.hatenablog.com/entry/20120528/rails_lazy_high_chart">上記のサイト</a>を参考に、Lazy high chartsのインストールを行います。</p>

<p>まず、Gemfile に
<code>gem 'lazy_high_charts'</code></p>

<p>を追加しました。
そして、
<code>bundle</code> を実行します。インストールが始まりました。<br/>
ここまでは問題ありません。</p>

<p>そして、</p>

<p>bundle exec rails g lazy_high_charts:install</p>

<p>を実行すると、highchart.js がダウンロードされて、assets/javascripts に配置される・・・<br/>
はずでしたが、何やらエラーが表示されました。</p>

<h3>インストールエラー</h3>

<p>エラーメッセージは、次のようなものでした。</p>

<p><code>
% /projects/rails/lazy_chart% bundle exec rails g lazy_high_charts:install
[WARNING] Could not load generator "generators/lazy_high_charts/install/install_generator". Error: uninitialized constant LazyHighCharts::Rails::Generators.
/.rvm/gems/ruby-1.9.3-p0/gems/lazy_high_charts-1.4.0/lib/generators/lazy_high_charts/install/install_generator.rb:4:in `&lt;module:LazyHighCharts&gt;'
/.rvm/gems/ruby-1.9.3-p0/gems/lazy_high_charts-1.4.0/lib/generators/lazy_high_charts/install/install_generator.rb:3:in `&lt;top (required)&gt;'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/generators.rb:300:in `block (2 levels) in lookup'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/generators.rb:296:in `each'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/generators.rb:296:in `block in lookup'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/generators.rb:295:in `each'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/generators.rb:295:in `lookup'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/generators.rb:152:in `find_by_namespace'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/generators.rb:169:in `invoke'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/commands/generate.rb:12:in `&lt;top (required)&gt;'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/commands.rb:29:in `&lt;top (required)&gt;'
script/rails:6:in `require'
script/rails:6:in `&lt;main&gt;'
Could not find generator lazy_high_charts:install.
</code></p>

<p>このエラーについて調べたところ、次の記事が見つかりました。</p>

<p><a href="https://github.com/michelson/lazy_high_charts/issues/91">Problem with rails g lazy_high_charts:install</a><br/>
どうやら、Railsのバージョンが3.1以上の場合は、<br/>
app/assets/javascripts/application.jsに次の行を追加しないといけないようです。</p>

<p><code>
//= require highcharts <br/>
//= require exporting
</code></p>

<p>これで、エラーは解決したでしょうか。</p>

<p><code>
% /projects/rails/lazy_chart% bundle exec rails g lazy_high_charts:install
[WARNING] Could not load generator "generators/lazy_high_charts/install/install_generator". Error: uninitialized constant LazyHighCharts::Rails::Generators.
/.rvm/gems/ruby-1.9.3-p0/gems/lazy_high_charts-1.4.0/lib/generators/lazy_high_charts/install/install_generator.rb:4:in `&lt;module:LazyHighCharts&gt;'
/.rvm/gems/ruby-1.9.3-p0/gems/lazy_high_charts-1.4.0/lib/generators/lazy_high_charts/install/install_generator.rb:3:in `&lt;top (required)&gt;'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/generators.rb:300:in `block (2 levels) in lookup'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/generators.rb:296:in `each'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/generators.rb:296:in `block in lookup'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/generators.rb:295:in `each'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/generators.rb:295:in `lookup'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/generators.rb:152:in `find_by_namespace'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/generators.rb:169:in `invoke'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/commands/generate.rb:12:in `&lt;top (required)&gt;'
/.rvm/gems/ruby-1.9.3-p0/gems/railties-3.2.13/lib/rails/commands.rb:29:in `&lt;top (required)&gt;'
script/rails:6:in `require'
script/rails:6:in `&lt;main&gt;'
Could not find generator lazy_high_charts:install.
</code></p>

<p>じゃん。
やっぱり出ますね。</p>

<p>しかし、<a href="https://github.com/michelson/lazy_high_charts/issues/91">くだんの記事</a>によると、どうやらこれでも問題なく動作するらしいです。</p>

<h3>では、動かしてみますか</h3>

<p>それでは、警告を気にせず、動作させてみます。</p>

<p><code>rails s</code></p>

<p><img src="https://www.evernote.com/shard/s75/sh/dbf05acf-97e1-4240-bf3b-90ec9d767ce1/57f93850b06d68a14848495f769e4bc6/deep/0/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88%202013-03-23%2022.52.57.jpg" alt="棒グラフ" /></p>

<p>グラフが出ました。</p>

<p>あとは、データの取得がうまくできれば、楽しく暮らせそうです。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/24/webdialog/">SketchUpのWebDialogの使い方</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-24T08:11:00+09:00" pubdate data-updated="true">2012-12-24 08:11</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Trimble SketchUpには、rubyで自動化できる機能があります。<br/>
今日は、rubyで画面を作る、WebDialogというコンポーネントについて<br/>
お話ししたいと思います。</p>

<p>SketchUpには、WebDialogというコンポーネントがあります。  <br/>
これを使うとrubyスクリプトから、フォームを作成でき,  <br/>
ユーザーと対話的にスクリプトを実行できるわけです。</p>

<h2>WebDialogの特長</h2>

<ul>
<li>htmlとCSSで、フォームを作成できる</li>
<li>rubyスクリプトから、htmlの要素にアクセスできる</li>
<li>html内のjavascript関数から、rubyスクリプトを実行できる</li>
<li>rubyスクリプトから、html内のjavascript関数を実行できる</li>
</ul>


<h2>WebDialogは、HTML+CSS+javascript</h2>

<p>WebDialogコンポーネントは、フォームのレイアウトをHTMLで指定します。  <br/>
また、入力部品の動作はjavascriptで指定します。</p>

<p>基本的な使い方は、公式ヘルプに載っています。  <br/>
http://www.sketchup.com/intl/en/developer/docs/ourdoc/webdialog#add_action_callback</p>

<h2>rubyスクリプトの実行方法</h2>

<p>あらかじめ、ダイアログに、コールバックメソッドを指定しておく必要があります。<br/>
指定されたコールバックメソッドには、仮想urlが割り当てられており、<br/>
&#8220;skp:&#8221; + コールバックメソッド名のアドレスに遷移しようとすると、<br/>
コールバックメソッドが実行されます。</p>

<p>仮想urlへ遷移するには、以下のいずれかの方法で指定します。</p>

<ul>
<li>リンクのurlとして指定</li>
<li>javascript関数内に、window.location=&#8221;skp:&#8221; + 関数名を指定し、ボタンに割り当て</li>
</ul>


<h2>macの場合はrubyコードが非同期実行</h2>

<p><a href="http://www.martinrinehart.com/models/rubies/ruby2javascript_javascript2ruby.html">Martin Rinehart</a>によると、<br/>
windows ではjavascriptから呼び出されたrubyスクリプトは同期実行され、<br/>
戻り値をjavasxriptで受け取る事ができるそうです。<br/>
しかし、macではrubyスクリプトは必ず非同期実行のため、<br/>
rubyの戻り値をjavascriptで利用することはできないようです。</p>

<p>注意してください。</p>

<h2>サンプルコード</h2>

<p>ほぼ最小構成のWebDialogのサンプルです。<br/>
ここでは、ボタンのクリックイベントにjavascriptのスクリプトを設定し、<br/>
リンクのurlにrubyのコールバックイベントの仮想urlを指定しています。</p>

<div><script src='https://gist.github.com/4367009.js?file='></script>
<noscript><pre><code>require 'Sketchup'

def show_dialog
  dlg = UI::WebDialog.new(&quot;DialogTest&quot;, false,
   &quot;DialogTest&quot;, 200, 150, 150, 150, true);
  html = &lt;&lt;-HTML
    &lt;form&gt;
      &lt;input id=&quot;start2&quot; onClick=&quot;window.alert('alert from javascript');&quot; type=&quot;button&quot; size=&quot;100&quot; value=&quot;input&quot;&gt;    
      &lt;/br&gt;
      &lt;a href=&quot;skp:ruby_messagebox@from link&quot;&gt;link&lt;/a&gt;
    &lt;/form&gt;
  HTML
  
  dlg.set_html html
  dlg.add_action_callback(&quot;ruby_messagebox&quot;) {|dialog, params|
    UI.messagebox(&quot;You called ruby_messagebox with: &quot; + params.to_s)
  }
  dlg.show
end

show_dialog

</code></pre></noscript></div>


<h2>サンプルコードの使い方</h2>

<p>サンプルコードを実行すると、このような画面が表示されます。</p>

<p><img src="https://www.evernote.com/shard/s75/sh/8f8b089a-0f79-4f18-8faf-fd3e39492230/8371ace36c63afd6fded1e6baa80773b/deep/0/WebDialog001.jpg" alt="WebDialogのサンプル" /></p>

<p>ボタンを押すと、javascriptで作成されたメッセージが表示されます。</p>

<p><img src="https://www.evernote.com/shard/s75/sh/801ac46e-8054-4e33-bb96-95187e0cab7c/531face5d8e312d13f234eba2baccd62/deep/0/WebDialog002.jpg" alt="ボタンを押すと、javascriptのアラートが表示される" /></p>

<p>リンクをクリックすると、rubyで作成されたメッセージが表示されます。<br/>
コード内では、リンクのurlとして、&#8221;skp:&#8221;に続いてrubyのコールバックメソッド名が<br/>
指定されているのがわかります。</p>

<p><img src="https://www.evernote.com/shard/s75/sh/57a25f6d-39ec-4f93-9780-962e52a0318e/174dbd1151fadda7723fe1b7426c30f5/deep/0/WebDialog003.jpg" alt="リンクをクリックすると、rubyのメッセージが表示される" /></p>

<h2>参考資料</h2>

<p>SketchUp Ruby Interface to JavaScript  <br/>
<a href="http://www.martinrinehart.com/models/rubies/ruby2javascript_javascript2ruby.html">http://www.martinrinehart.com/models/rubies/ruby2javascript_javascript2ruby.html</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/04/bitnami-setting/">Bitnamiの仮想マシンを使うためのステップ</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-04T07:35:00+09:00" pubdate data-updated="true">2012-07-04 07:35</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>WordPressを使ったWebサイト作りをしようとしています。
ローカルの仮想サーバーでサイトのソースをGitに上げ、
公開用のサーバーでGitからPullすることで、デプロイする構成です。</p>

<p>そこで、ローカルの仮想サーバーには、
WordPressとMySQLとPHPのスタックである、
bitnamiを使ってみます。</p>

<h2>bitnami仮想マシンのダウンロード</h2>

<p>bitnamiを使うためには、２つの方法があります。</p>

<ol>
<li>既存の仮想マシンに、bitnamiをインストールする</li>
<li>bitnamiインストール済の仮想マシンを、新規にダウンロードする</li>
</ol>


<p>今回は、2.を解説します。
公式サイトから、bitnamiがインストールされた仮想マシンをダウンロードします。</p>

<h2>sshの導入</h2>

<p>コマンドラインから操作するため、仮想マシンでsshを有効にします。
公開鍵の受け渡しが、最も苦労した部分です。</p>

<h3>公開鍵の渡し方</h3>

<p>仮想サーバーの公開鍵を、開発用マシンに渡すための方法は、
次のような選択肢があります。</p>

<ol>
<li>仮想マシンがSmabaサーバーとなり、ホストOSのがクライアントとなってファイルを受け渡す</li>
<li>逆に、ホストOSの共有フォルダに、仮想マシンからアクセスしてファイルを受け渡す</li>
<li>GitHubなど、外部ストレージを経由してファイルを受け渡す</li>
</ol>


<p>ここでは、2.を解説します。</p>

<h3>VMware-Toolsの導入</h3>

<p>ホストOSの共有フォルダにゲストOSからアクセスするには、<br/>
VMware-Toolsをインストールします。</p>

<p>別の記事にまとめていますので、参照してください。
<a href="/2012-07-02-vmware-tools-installed.html">vmware-tools-install</a></p>

<h3>ssh鍵の生成</h3>

<p>ホストOSで、以下のコマンドを入力します。</p>

<pre><code>sudo ssh-keygen
</code></pre>

<p>画面に従ってパスワードを入力すると、公開鍵と秘密鍵が生成されます。
id_rsa.pubファイルが公開鍵、id_rsaファイルが秘密鍵です。</p>

<h3>公開鍵を、共有フォルダに置く</h3>

<p>これから、いまホストOSで作った公開鍵をサーバーに渡します。</p>

<p>まず、id_rsa.pubファイルを、ホストOSの共有フォルダにコピーします。
オイラの環境では、Macの~/shareフォルダです。</p>

<p>マウスでポイっと入れればOKです。</p>

<h3>ゲストubuntuに、ホストOSの公開鍵をインストール</h3>

<p>共有フォルダに入れた公開鍵を、ゲストOSから見てみます。</p>

<pre><code>$ ls /mnt/hgfs/share
&gt; id_rsa.pub
</code></pre>

<p>ホストOSの公開鍵が見えています。
これを、ゲストOSにインストールします。</p>

<p>でも、いったいどこにインストールするのでしょうか？</p>

<p>サーバーには『この鍵をくれたマシンのアクセスには応じるよ』というファイルがあります。<br/>
authorized-keysというファイルです。
今回受け取った公開鍵を、authorized_keysファイルに追記します。</p>

<p>このファイルには、複数の鍵を書き込むことができます。
上書きすると、今までアクセスできたマシンがアクセスできなくなる、
という現象が起こりますよ。</p>

<pre><code>cat /mnt/hgfs/share/id_rsa.pub &gt;&gt; /home/bitnami/.ssh/authorized_keys
</code></pre>

<p><strong>>>に注目。</strong></p>

<p>これで、ゲストOSに、ホストOSの公開鍵がコピーされました。</p>

<h2>sshの設定</h2>

<p>ゲストOSで、以下のコマンドを実行します。</p>

<pre><code>$ sudo vi /etc/ssh/sshd_config
</code></pre>

<p>以下の行を探して、下のように変更します。</p>

<p>  ChallengeResponseAuthentication no
  PasswordAuthentication no
  UsePAM no</p>

<h2>sshデーモン、いでよ！</h2>

<p>ゲストOSがアクセスを待ち構えるために、
sshデーモンを召喚します。
このデーモンが、サーバーの門番を務めてくれるわけです。</p>

<p>召喚の呪文は、これです。</p>

<pre><code>$ sudo start ssh
</code></pre>

<p>これで、ゲストOS上でsshが有効になりました。</p>

<h2>ホストOSからアクセスしてみる</h2>

<p>ホストOS上で、sshコマンドを入力します。</p>

<pre><code>ssh 192.168.100.xxx（ゲストOSのIPアドレス）-l bitnami
</code></pre>

<p>ゲストOSのIPアドレスは、ゲストOSでifconfigコマンドを使用すると、<br/>
表示されます。<br/>
・・・大丈夫ですよね？？</p>

<p>あと、-l bitnamiの部分がなんなのかというと、
bitnamiユーザーでログインします、という意味です。
サーバーにはbitnamiユーザーしかいないため、
他のユーザーではログインできません。</p>

<p>別のユーザーを作っている場合は、
そのユーザー名を指定してください。</p>

<p>これを指定しない場合は、ホストOSのユーザー名でログインします。</p>

<pre><code>$ ssh 192.168.100.101 -l bitnami         
&gt; The authenticity of host '192.168.100.101 (192.168.100.101)' can't be established.
&gt; RSA key fingerprint is 86:74:fe:6b:8b:b1:c2:64:3f:d0:80:bc:92:f3:c0:75.
&gt; Are you sure you want to continue connecting (yes/no)? yes
</code></pre>

<p>何か聞かれた場合は、yesと答えて下さい。</p>

<pre><code>&gt; Warning: Permanently added '192.168.100.101' (RSA) to the list of known hosts.
&gt; Last login: Tue Jul  3 13:10:37 2012
</code></pre>

<p>これで、sshログインできました。<br/>
めでたし。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/02/vmware-tools-installed/">ゲストubuntuに、VMware-Toolsをインストールする</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-02T19:42:00+09:00" pubdate data-updated="true">2012-07-02 19:42</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>ゲストOSの仮想サーバーへ、ホストOSからssh接続するために、<br/>
公開鍵を渡します。<br/>
今回は、ホストの共有フォルダ経由でファイルを渡します。</p>

<p>ホストOSの共有フォルダを使うには、VMware-Toolsが必要です。<br/>
VMwareToolsをインストールする方法を解説します。</p>

<h2>VMWare Toolsの導入</h2>

<ol>
<li>VMware-Toolsの仮想CDを挿入</li>
<li>カーネルの番号を確認する</li>
<li>カーネルヘッダーをインストールする</li>
<li>VMware-Toolsをインストールする</li>
</ol>


<h3>VMwareToolsの仮想CDを挿入</h3>

<p>VMwareFusionのメニューから、『仮想マシン->VMWareToolsのインストール』を選択します。<br/>
その後、以下のように仮想CDをマウントします。</p>

<pre><code>$ sudo mkdir -p /mnt/cdrom
$ sudo mount /dev/cdrom /mnt/cdrom
&gt; mount: block device /dev/sr0 is write-protected, mounting read-only
</code></pre>

<p>ここでインストールを行うと、失敗します。</p>

<pre><code>tar xzvf /mnt/cdrom/VMwareTools-8.8.4-730257.tar.gz 
cd ./vmware-tools-distrib/
sudo ./vmware-install.pl 

...

Searching for a valid kernel header path...
The path "" is not valid.
Would you like to change it? [yes] 
</code></pre>

<p>カーネルヘッダーがないとだめだそうです。</p>

<h3>カーネルのバージョンを確認する</h3>

<p>メニューから、『仮想マシン->設定->ネットワークアダプタ』を選択し、<br/>
ネットワークにブリッジ接続を指定します。</p>

<p>カーネルのバージョンを確認し、適切なヘッダーを取得します。</p>

<pre><code>uname -a

`linux 3.2.0-24-virtual #39-ubuntu SMP Mon May 21 18:44:18 UTC 2012 x86_64 x86_64 x86_64 GNU/Linux`  
</code></pre>

<p>このカーネルバージョンは、3.2.0-24-virtual だということがわかりました。</p>

<h3>ヘッダーファイルをインストールする</h3>

<p>ヘッダーファイルをインストールします。</p>

<pre><code>sudo apt-get install linux-headers-3.2.0-24-virtual
</code></pre>

<p>バージョンのないヘッダーファイル（linux-headers-virtual）も存在しますが、<br/>
自分の環境では、サーバー接続エラー（404）が発生して、<br/>
インストールが成功しませんでした。</p>

<h3>VMware-Toolsをインストールする</h3>

<p>もう一度、VMware-Toolsをインストールします。</p>

<pre><code>sudo ./vmware-install.pl -d

Searching for a valid kernel header path...
Detected the kernel headers at "/lib/modules/3.2.0-24-virtual/build/include".
The path "/lib/modules/3.2.0-24-virtual/build/include" appears 
to be a valid path to the 3.2.0-virtual kernel headers.
Would you like to change it? [no]
</code></pre>

<p>今度は、カーネルヘッダーを認識しているようです。
正しくVMware-Toolsがインストールされました。</p>

<h2>おわりに</h2>

<p>これをちゃんと読む人はとても少ないはずですが、
いるとすれば、とても困っている方でしょう。</p>

<p>この記事が少しでもお役に立てれば嬉しいものですね。</p>

<p>ちなみに・・・本当は、ゲストOSにsmbclientを入れれば<br/>
ホストOSの共有フォルダにアクセスできると思うのですが、<br/>
設定がうまくいかず、今回はあきらめました。</p>

<h2>参考資料</h2>

<p>CentOS 5.5 x86 に VMware Tools をインストールする<br/>
<a href="http://d.hatena.ne.jp/yohei-a/20101222/1293051179">http://d.hatena.ne.jp/yohei-a/20101222/1293051179</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/25/xp_converted/">ConverterでXPマシンを仮想化するために必要な4つのこと</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-25T22:47:00+09:00" pubdate data-updated="true">2012-06-25 22:47</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>これをお読みの皆さんは、仮想マシンを使っておいででしょうか？<br/>
Windows XPのマシンを、macのVMWareで使うために仮想化しました。<br/>
そこでハマったポイントを、後に続く方のためにまとめておきます。</p>

<h2>環境</h2>

<p>ホストOS：mac OSX (Lion) 10.7.4<br/>
実行環境：VMWare Fusion 4.1.3<br/>
仮想化するマシンのOS：Windows XP Pro<br/>
仮想化するアプリ： VMWWare Converter 5.0.0</p>

<h2>ポイント</h2>

<ol>
<li>VMWare Converterをダウンロードして使う
　（VMWare Fusion付属のMigrationAgentは使わない）</li>
<li>WindowsXPのCD-ROMから、sysprepファイルをコピーする</li>
<li>仮想化するマシンは、十分に容量を減らしておく</li>
<li>仮想化するマシンのVolume Shadow Copyサービスを有効にする</li>
</ol>


<h3>1.VMWare Converterをダウンロードして使う</h3>

<p>明らかに、速さも信頼性も、Converterのほうが上です。<br/>
物理マシンを吸い出す目的のためには、ぜひConverterを使うべきです。</p>

<p>以下のURLからダウンロードして、XPマシンにインストールしてください。<br/>
構成について尋ねられます。<br/>
『ローカル』と『クライアントサーバー』の二択から、『ローカル』を選びます。</p>

<h3>2.WindowsXPのCD-ROMから、sysprepファイルをコピーする</h3>

<p>公式ヘルプなどでsysprepと呼ばれるものは、以下の圧縮フォルダのファイル一式です。<br/>
(OSのディスク)￥￥SUPPORT￥TOOLS￥</p>

<p><img src="https://img.skitch.com/20120625-b7a5a973xx41ic6qje142y627i.gif" alt="sysprepツール" /></p>

<p>これを、以下のパスに保存します。</p>

<pre><code>C:\Documents and Settings\All Users\Application Data\VMware\VMware vCenter Converter Standalone\sysprep\xp
</code></pre>

<p>保存するパスは、VMWareConverterを実行すると教えてくれます。<br/>
全ファイルまとめて保存して構いません。</p>

<h3>3.仮想化するマシンは、十分に容量を減らしておく</h3>

<p>具体的には、次のような事をします。</p>

<ul>
<li>ディスクのクリーンアップ</li>
<li>アプリケーションの削除</li>
<li>データを外部に移動</li>
</ul>


<p>これが足りていないと、次のエラーが発生するようです。</p>

<pre><code>Failed to create VSS snapshot of source volume. Error code: 2147754783(0x8004231F). 
</code></pre>

<h3>4.仮想化するマシンのVolume Shadow Copyサービスを有効にする</h3>

<p>コントロールパネルから、『管理ツール->サービス』を選択し、<br/>
サービス一覧を表示します。
一覧からVolume Shadow Copy Serviceを捜し、<br/>
『スタートアップの種類』を『自動』に設定します。</p>

<p>![コンパネ→管理ツール] (https://img.skitch.com/20120625-ghgec3kruxiirgkmkd6k1wftjm.gif)
![サービス] (https://img.skitch.com/20120625-q1f2a5d35a8bjj7kqhpbixbxj5.gif)</p>

<p>これが足りていないと、次のエラーが発生します。</p>

<pre><code>FAILED: Unable to create a VSS snapshot of the source volume(s). Error code: 2147754758 (0x80042306).
</code></pre>

<h2>参考資料</h2>

<p>VMware Converter の使用とトラブルシューティングに関するベスト プラクティス</p>

<p><a href="http://kb.vmware.com/selfservice/documentLinkInt.do?micrositeID=&amp;popup=true&amp;languageId=&amp;externalID=1033253">http://kb.vmware.com/selfservice/documentLinkInt.do?micrositeID=&amp;popup=true&amp;languageId=&amp;externalID=1033253</a></p>

<p>公式サイトのサポートページです。</p>

<p><a href="http://www.vmware.com/support/converter/doc/releasenotes_conv40.html">http://www.vmware.com/support/converter/doc/releasenotes_conv40.html</a>
<a href="http://communities.vmware.com/thread/308014">http://communities.vmware.com/thread/308014</a></p>

<p>公式サイトのフォーラムです。<br/>
エラーが発生した場合は、『VMware (エラーコード)』で検索すると、
手がかりが得られるかも知れません。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/20/sakura-git-installed/">さくらのレンタルサーバーにgitをインストールした</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-20T19:29:00+09:00" pubdate data-updated="true">2012-06-20 19:29</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://blog.satrex.jp/blog/2012/06/20/sakura_start/">前回の記事</a>では、さくらのレンタルサーバーにGitを入れようとして失敗しました。
今回は、その解決法を書きます。</p>

<h2>解決法</h2>

<p>パッケージ管理システム経由では入らないようなので、ソースをコンパイルして直接インストールしてしまう事にしました。</p>

<p>gitのtarballからコンパイルしてインストールします。</p>

<pre><code>mkdir gitinstall  
cd gitinstall  
wget https://github.com/git/git/tarball/v1.7.11-rc3 --no-check-certificate
tar xjvf git-1.7.3.5.tar.bz2
.cd git-1.7.3.5
./configure -prefix=$HOME/local
gmake
vi Makefile
# prefix = $(HOME)/local  を記述
gmake install
</code></pre>

<p>これで、~/local/binにgitがインストールされます。
Makefileを変更しないと、~/binに入ってしまい、具合が悪いようです。</p>

<h4>2012/06/22追記：</h4>

<p><em>~/binに入ってしまうと、組み込みのコマンドと混ざるので、<br/>
環境が汚くなってしまうからかな・・・と思いました。</em></p>

<h2>パスを通す</h2>

<p>最後に、パスを通します。</p>

<pre><code>vi ~/.cshrc
</code></pre>

<p>set path=( で始まる行を見つけ、括弧の中に、以下を追加します。</p>

<pre><code>/$HOME/local/bin
</code></pre>

<p>直前の文字と、スペースを挟んで区切るのを忘れないでください。
これで、gitにパスが通り、which gitが成功するはずです。
光へ続く道が開かれました。</p>

<h3>参考文献</h3>

<p><a href="http://noumenon-th.net/text-hymn/2011/01/git.php">さくらのレンタルサーバーにGitをインストールする方法</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/20/sakura_start/">さくらのレンタルサーバーを借りた</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-20T05:09:00+09:00" pubdate data-updated="true">2012-06-20 05:09</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Webサイトを作るため、サーバーを借りてみたくなったsatrexです。</p>

<h2>さくらのレンタルサーバー対VPS</h2>

<p>さて、さくらのレンタルサーバーとさくらのVPSで迷いました。<br/>
メリット・デメリットを比較すると、おおむね以下のようになりました。</p>

<hr />

<h3>レンタルサーバー</h3>

<ul>
<li>メリット：

<ul>
<li>セキュリティがしっかりしている</li>
<li>設定がめんどくさくない</li>
<li>ちょっと安い</li>
</ul>
</li>
<li>デメリット：

<ul>
<li>自由度が低い</li>
<li>OSを選べない</li>
<li>ディスク容量が少ない（10G）</li>
</ul>
</li>
</ul>


<hr />

<h3>VPS</h3>

<ul>
<li>メリット：

<ul>
<li>自由度が高い</li>
<li>OSを選べる</li>
<li>ディスク容量が多い（100G〜）</li>
</ul>
</li>
<li>デメリット：

<ul>
<li>セキュリティは自分で設定(やや不安)</li>
<li>いろいろと設定しないと</li>
<li>ちょっと高い</li>
</ul>
</li>
</ul>


<hr />

<p>コストはたいした問題ではありません。<br/>
月500円が1000円でも似たようなもんです。</p>

<h3>まずはレンタルサーバー</h3>

<p>迷ったらとりあえずミニマルな選択肢を試します。<br/>
レンタルサーバーを仮登録してみました。</p>

<p>そこで感じたことをレポします。</p>

<h3>sshログイン</h3>

<p>サーバー屋さんが数多くある中で、
さくらのレンタルサーバーを選んだのは、
sshログインできるからです。<br/>
WordPressとか、GUIだけでメンテするのはしんどそうです。</p>

<h2>さっそくログインしてみた</h2>

<p>サーバーのパスワードが書かれたメールが
見当たらず、サポートにメールを送った朝7時でした。</p>

<p>昼の13時ごろにはメールの再送を受けられ、
無事にログインはできました。</p>

<p>しかし、新たな問題の幕開けに、そのころのオイラは気づいていなかったのです。</p>

<h2>Gitが入らない</h2>

<p>次に欲しいのはGitです。
これがあれば、ローカルの仮想マシンと同期できます。<br/>
仮想マシンでコンテンツを作り、
Pushしておき、レンタルサーバーからPullすれば、
電車の中でもWebが作れるというものです。</p>

<p>さっそく、gitをインストールする手段を講じました。</p>

<h3>Portsの憂鬱</h3>

<p>FreeBSDのパッケージ管理は、Portsで行うようです。<br/>
さっそくtarボールをダウンロードしました。<br/>
解凍しますが・・・</p>

<pre><code>%tar -x ports.tar
tar: Error opening archive: Failed to open '/dev/sa0'
</code></pre>

<p>当然ですがroot権限がないため、
Portsが入れられません。</p>

<h3>pkgの挫折</h3>

<p>Portsがダメならpkgです。
pkgは、WordPressをインストールするために、すでにインストールされているようです。</p>

<p>さっそくこれを使ってみますが・・・
パッケージのインストールを認めてくれません。</p>

<p><span style='text-decoration:line-through'>とりあえずの結論です。<br/>
<strong>Git使いは、ちょっといいプランを借りないとだめ</strong><br/>
お試し期間中なのでキャンセルし、プランを見直そうと思います。  </span></p>

<p>パッケージ管理をあきらめ、ソースコードからgitをコンパイルしてインストールすることにしました。</p>

<p><a href="http://blog.satrex.dev/blog/2012/06/20/sakura-git-installed">次の記事</a>で詳しく書きます。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/04/vimsketchup/">VimSketchUpをリリースしました</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-04T00:38:00+09:00" pubdate data-updated="true">2012-06-04 00:38</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>VimでSketchUpのRubyスクリプトを書きたい方に朗報です。
VimでSketchUpRubyを実行できるプラグインをリリースしました。</p>

<h2>動作のイメージ</h2>

<p>例えば、スクリプトで三角形を描いてみます。
初めに、SketchUpを起動します。
これが初期画面。ちなみに、女の子の名前はサンちゃんです。</p>

<p><img src="https://img.skitch.com/20120603-bi3hcwd594ubauj132rkhkwk92.gif" alt="SketchUpの初期画面" /></p>

<p>何もないところに、Rubyスクリプトで三角形を描きます。
まず、VimでSketchUp用のスクリプトを書きます。</p>

<p><img src="https://img.skitch.com/20120603-e29j4n2sq9hk15mmfrqj461sib.gif" alt="VimでRubyスクリプトを書いたところ" /></p>

<p>そして、”￥sur”とキーボードで入力すると、
SketchUpの画面に変化が起きます。</p>

<p><img src="https://img.skitch.com/20120603-jmbeicj5qw2xp1rmujb42cqub.gif" alt="三角形が出たところ" /></p>

<p>三角形が描けました。</p>

<h2>GitHubに登録しました</h2>

<p>このスクリプトを、GitHubに登録しました。
リポジトリは<a href="https://github.com/satrex/VimSketchUpRuby">ここです</a>。</p>

<h2>これから</h2>

<p>インストールの仕方、初期設定など、
使い方に関する記事を書きます。</p>

<p>VimでSketchUpRubyが書けるようになったからには、
補完の支援を受けたり、SketchUpAPIのヘルプをローカルで
見たりできるようになりたいです。</p>

<p>Rubyの補完は弱いので限界はあるのですが、
現在はdictファイルを使って、補完に挑戦しています。</p>

<h2>感想</h2>

<p>前々から作りたいと言っていたプラグインです。
やっと完成を見ることができました。
長かったです。</p>

<p>相変わらず、VimScriptもSketchUpAPIも手探りですが、
困るのに慣れてきました。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/29/sketchup_activation/">MacでSketchUpのRubyスクリプトを自動実行</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-29T21:39:00+09:00" pubdate data-updated="true">2012-05-29 21:39</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>以前に書いていた、GoogleSketchUpのコードをVimから書けるプラグインを書いています。</p>

<p>Windowsでは、Bridgeという神アプリで、Eclipse上から
SketchUpを操作する事ができますが、macには対応しません。</p>

<h2>AppleScriptでなんとかしてみた</h2>

<p>そこで、macで実行中のSketchUpでRubyコードを実行できる
AppleScriptを書きました。</p>

<p>これをVimから実行することで、Vimで書いているRubyスクリプトを、
SketchUp上で実行する事ができるはずです。</p>

<p>Bridgeと比べると格段にしょぼい作りですが、
今までの面倒に比べれば天と地の差です。</p>

<h2>現状</h2>

<p>とりあえず、SketchUpが最前面に出て、Rubyコンソールが開き、
クリップボードの文字列をペーストするだけです。</p>

<p>Vim側はまだありません。</p>

<h2>次のアクション</h2>

<p>Vim側で、バッファの全文字列を取得する処理＋
このAppleScriptを呼び出す処理を書けば、
うまくいくかも知れません。</p>

<p>SketchUpスクリプトファイルのフォルダは込み入ったパスにあるので、
新規作成機能も欲しいです。</p>

<p>glidenoteさんのOctoEditorをForkして作ってみようかな・・・
と考えています。</p>

<h2>ソース</h2>

<script src="https://gist.github.com/2829474.js"> </script>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/05/22/three_js_tutorial/">Three.jsを試してみた</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-05-22T19:50:00+09:00" pubdate data-updated="true">2012-05-22 19:50</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://kray.jp/blog/three-js/">krayさんのサイト</a>を丸写しで、Three.jsを試してみました。
うまくいったので、お礼かたがた書いてみます。</p>

<h3>うまくいったこと</h3>

<p>いくつか、これは助かったなぁと思う事を書いてみます。</p>

<h4>Three.jsの扱い</h4>

<p>まず<a href="https://github.com/mrdoob/three.js/">ソース</a>をCloneして、さてどう使うんだろうと考えちゃいました。
そうだ<a href="https://github.com/mrdoob/three.js/#readme">ReadMe</a>を見よう、という事で見てみると、minimize版をHTMLヘッダーで参照すればいいとのこと。</p>

<p>![３Dの立方体がぐりぐり動く][sampleImage]</p>

<p>なるほど。
チュートリアルやwikiも充実してるようなので、しばらく入り浸ってみたいです。</p>

<h3>FireFoxのいいところ</h3>

<p>とくに他のブラウザと比較しての話ではないです。
cmd-uでソースの表示。そこからリンクを辿ってスクリプトなど見れるので、追いかけやすいなぁと。
強いて言えば、ソースにシンタックスハイライトしてくれれば最高です。</p>

<p>あと、３DでDOMツリーが見れるのが面白いです。</p>

<h2>うまくいかなかったこと</h2>

<p>逆に、これはまだよくわかってないぞ、という部分について。</p>

<h3>javascriptの補完</h3>

<p>neocomplcacheがないVimは使いません。というくらい、オイラは補完が好きです。
補完がないとコードが書きたくないです。
で、javascriptのシンタックスや、Three.js内のメソッド名など、持ってきてほしいものがいくつかありました。</p>

<p>あとでneocomplcacheのヘルプをよく読んでみます。</p>

<h3>SketchUpとThree.jsの連携</h3>

<p>SketchUpでモデリングして、Webサイトに載せてぐりぐり動かす、とかできると最高です。</p>

<p>SketchUpはWindows版だとBridgeというライブラリでEclipseからスクリプトが実行できるのですが、いかんせんmacではBridgeが通用せず。
まだレベルが足りなくて、Bridgeを移植しようにも、どう手をつけていいのかわかりません。</p>

<p>VimからSketchUpのRubyコンソールのウィンドウハンドルを取って、文字を入力してExecuteScriptコマンドを流せばいいはずです。</p>

<p>でもどうすればそれができるか分かりません。
ざんねん。
いつかは！</p>

<p>(2012/12/24 追記)
できました。
次の記事を参照してください。</p>

<p>http://blog.satrex.jp/blog/2012/06/04/vimsketchup/</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <p><img src="/images/self-portrait_pop.png" height="250" width="200" />
  <br />
  satrex(Satoshi Suzuki)
  <br />
  <a href="http://twitter.com/satrex">@satrex</a>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/03/22/lazy_high_charts/">lazy_high_chartsを使ってみた</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/24/webdialog/">SketchUpのWebDialogの使い方</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/04/bitnami-setting/">bitnamiの仮想マシンを使うためのステップ</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/02/vmware-tools-installed/">ゲストubuntuに、VMware-Toolsをインストールする</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/25/xp_converted/">ConverterでXPマシンを仮想化するために必要な4つのこと</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/satrex">@satrex</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'satrex',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("satrex", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/satrex" class="twitter-follow-button" data-show-count="false">Follow @satrex</a>
  
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/sat1501@gmail.com?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - satrex -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'e-sheep';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>




<script>
(function(w,d){
    var c,e=d.createDocumentFragment(),f=d.getElementsByTagName("script")[0],
    a=function(a,b){if(!d.getElementById(b)){c=d.createElement("script");
    c.src=a;c.id=b||null;c.async=true;e.appendChild(c);}};


    a("//platform.twitter.com/widgets.js");


    a("//connect.facebook.net/en_US/all.js#xfbml=1","facebook-jssdk");

    a("//b.st-hatena.com/js/bookmark_button_wo_al.js");
    f.parentNode.insertBefore(e,f);
})(this,document);
</script>


</body>
</html>
